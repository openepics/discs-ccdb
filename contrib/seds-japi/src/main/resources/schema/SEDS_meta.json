
{
    "version":"1.0.0",
    "$schema":"http://json-schema.org/draft-04/schema#",
    "title":"SedsType",
    "description":"Serialized EPICS Datatype Standards",
    "type":"object",
    "anyOf":[
        {
            "$ref":"#/definitions/SedsMetadata"
        }
    ],
    "definitions":{
        "SedsAlarm":{
            "$schema":"http://json-schema.org/draft-04/schema#",
            "title":"SedsAlarm",
            "description":"Alarm information.",
            "type":"object",
            "required":[
                "severity"
            ],
            "additionalProperties":false,
            "properties":{
                "severity":{
                    "enum":[
                        "NONE",
                        "MINOR",
                        "MAJOR",
                        "INVALID",
                        "UNDEFINED"
                    ]
                },
                "status":{
                    "type":"string"
                },
                "message":{
                    "type":"string"
                }
            }
        },
        "SedsControl":{
            "$schema":"http://json-schema.org/draft-04/schema#",
            "title":"SedsControl",
            "type":"object",
            "description":"Limit information specifying a numeric range.",
            "required":[
                "lowLimit",
                "highLimit"
            ],
            "additionalProperties":false,
            "properties":{
                "lowLimit":{
                    "type":"number"
                },
                "highLimit":{
                    "type":"number"
                }
            }
        },
        "SedsDisplay":{
            "$schema":"http://json-schema.org/draft-04/schema#",
            "title":"SedsDisplay",
            "type":"object",
            "required":[
                "lowDisplay",
                "highDisplay"
            ],
            "description":"Limit and unit information needed for display.",
            "additionalProperties":false,
            "properties":{
                "lowAlarm":{
                    "type":"number"
                },
                "highAlarm":{
                    "type":"number"
                },
                "lowDisplay":{
                    "type":"number"
                },
                "highDisplay":{
                    "type":"number"
                },
                "lowWarning":{
                    "type":"number"
                },
                "highWarning":{
                    "type":"number"
                },
                "description":{
                    "type":"string"
                },
                "units":{
                    "type":"string"
                }
            }
        },
        "SedsEnum":{
            "$schema":"http://json-schema.org/draft-04/schema#",
            "title":"SedsEnum",
            "type":"object",
            "required":[
                "selected"
            ],
            "description":"Enumeration, describing a value taken from a set of values.",
            "additionalProperties":false,
            "properties":{
                "selected":{
                    "type":"string"
                },
                "elements":{
                    "type":"array",
                    "items":{
                        "type":"string"
                    },
                    "minItems":1,
                    "uniqueItems":true
                }
            }
        },
        "SedsMetadata":{
            "$schema":"http://json-schema.org/draft-04/schema#",
            "title":"SedsMetadata",
            "type":"object",
            "description":"Metadata detailing serialize/deserialize information of SEDS data.",
            "required":[
                "type",
                "protocol",
                "version"
            ],
            "additionalProperties":false,
            "properties":{
                "type":{
                    "type":"string"
                },
                "protocol":{
                    "type":"string"
                },
                "version":{
                    "type":"string"
                }
            }
        },
        "SedsScalar":{
            "$schema":"http://json-schema.org/draft-04/schema#",
            "title":"SedsScalar",
            "type":"object",
            "required":[
                "value"
            ],
            "description":"A singe value with optional metadata.",
            "additionalProperties":false,
            "properties":{
                "value":{
                    "oneOf":[
                        {
                            "type":[
                                "string",
                                "number",
                                "integer",
                                "boolean",
                                "null"
                            ]
                        },
                        {
                            "$ref":"#/definitions/SedsEnum"
                        }
                    ]
                },
                "alarm":{
                    "$ref":"#/definitions/SedsAlarm"
                },
                "control":{
                    "$ref":"#/definitions/SedsControl"
                },
                "display":{
                    "$ref":"#/definitions/SedsDisplay"
                },
                "time":{
                    "$ref":"#/definitions/SedsTime"
                }
            }
        },
        "SedsScalarArray":{
            "$schema":"http://json-schema.org/draft-04/schema#",
            "title":"SedsScalarArray",
            "type":"object",
            "required":[
                "valueArray"
            ],
            "description":"A singe (homogeneous) value array with optional metadata.",
            "additionalProperties":false,
            "properties":{
                "valueArray":{
                    "type":"array",
                    "anyOf":[
                        {
                            "type":"array",
                            "items":{
                                "type":[
                                    "null"
                                ]
                            }
                        },
                        {
                            "oneOf":[
                                {
                                    "type":"array",
                                    "items":{
                                        "type":[
                                            "boolean",
                                            "null"
                                        ]
                                    }
                                },
                                {
                                    "type":"array",
                                    "items":{
                                        "type":[
                                            "number",
                                            "null"
                                        ]
                                    }
                                },
                                {
                                    "type":"array",
                                    "items":{
                                        "type":[
                                            "string",
                                            "null"
                                        ]
                                    }
                                },
                                {
                                    "type":"array",
                                    "items":{
                                        "anyOf":[
                                            {
                                                "type":[
                                                    "null"
                                                ]
                                            },
                                            {
                                                "$ref":"#/definitions/SedsEnum"
                                            }
                                        ]
                                    }
                                }
                            ]
                        }
                    ]
                },
                "alarm":{
                    "$ref":"#/definitions/SedsAlarm"
                },
                "control":{
                    "$ref":"#/definitions/SedsControl"
                },
                "display":{
                    "$ref":"#/definitions/SedsDisplay"
                },
                "time":{
                    "$ref":"#/definitions/SedsTime"
                }
            }
        },
        "SedsTable":{
            "$schema":"http://json-schema.org/draft-04/schema#",
            "title":"SedsTable",
            "type":"object",
            "required":[
                "numRows",
                "numColumns",
                "names",
                "columnTypes",
                "values"
            ],
            "description":"A table, or collection of columns (name, unit, type, data array).",
            "additionalProperties":false,
            "properties":{
                "numRows":{
                    "type":"integer"
                },
                "numColumns":{
                    "type":"integer"
                },
                "names":{
                    "type":"array",
                    "items":{
                        "type":"string"
                    }
                },
                "columnTypes":{
                    "type":"array",
                    "items":{
                        "type":"string"
                    }
                },
                "values":{
                    "type":"array",
                    "items":{
                        "$ref":"#/definitions/SedsScalarArray"
                    }
                }
            }
        },
        "SedsTime":{
            "$schema":"http://json-schema.org/draft-04/schema#",
            "title":"SedsTime",
            "type":"object",
            "description":"Timestamp information.",
            "properties":{
                "unixSec":{
                    "type":"integer"
                },
                "nanoSec":{
                    "type":"integer"
                },
                "userTag":{
                    "type":"integer"
                }
            },
            "required":[
                "unixSec",
                "nanoSec"
            ],
            "additionalProperties":false
        }
    }
}